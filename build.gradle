buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath 'org.springframework.boot:spring-boot-gradle-plugin:1.4.0.RELEASE'
    classpath 'org.springframework:springloaded:1.2.5.RELEASE'
  }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'spring-boot'

// project configuration
project.sourceCompatibility = '1.8'
project.archivesBaseName = 'yajbs-v2'
project.version = '0.0.0'

sourceSets {
  main {
    resources {
      srcDir 'src/main/web'
    }
  }
}

repositories {
  mavenCentral()
  jcenter()
}

configurations {
  compile.exclude module: "spring-boot-starter-tomcat"
}

dependencies {
  compile 'org.springframework.boot:spring-boot-starter-web'
  compile 'org.springframework.boot:spring-boot-starter-undertow'
  compile 'org.springframework.boot:spring-boot-starter-actuator'
  compile 'org.springframework.boot:spring-boot-starter-security'
  compile 'org.springframework.boot:spring-boot-starter-thymeleaf'
  compile 'org.springframework.boot:spring-boot-starter-data-mongodb'
  compile 'javax.inject:javax.inject:1'
  compile 'org.thymeleaf.extras:thymeleaf-extras-springsecurity4:2.1.2.RELEASE'

  testCompile 'org.springframework.boot:spring-boot-starter-test'
  testCompile 'org.springframework.security:spring-security-test:4.1.1.RELEASE'
  testCompile 'com.github.fakemongo:fongo:2.0.7'
}

// local run marker task
task start(dependsOn: bootRun) {
  outputs.upToDateWhen { false }
}

compileJava {
  options.incremental = true
}




// Gradle wrapper task
// Only used when in need to reinstall the wrapper
task wrapper(type: Wrapper) {
  gradleVersion = '3.0'
}