(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{7:function(t,e,c){"use strict";c.r(e);var b=c(0),n=c(3),a=c(2);function s(t){let e,c,n,a,s,l,o,i,j,O,d,r,u,g,p,m,f,v,h,w,y,x,$,k,U,q,E,S,C,_=(t[4]?"Loading...":t[5]?"Saving...":t[0].save)+"",L=t[0].cancel+"";return{c(){e=Object(b.f)("form"),c=Object(b.f)("div"),n=Object(b.f)("div"),a=Object(b.f)("div"),s=Object(b.f)("label"),s.textContent="Name",l=Object(b.q)(),o=Object(b.f)("input"),j=Object(b.q)(),O=Object(b.f)("small"),O.textContent="This text will be escaped automatically when presented on the page",d=Object(b.q)(),r=Object(b.f)("div"),u=Object(b.f)("div"),g=Object(b.f)("label"),g.textContent="Slug",p=Object(b.q)(),m=Object(b.f)("input"),v=Object(b.q)(),h=Object(b.f)("small"),h.textContent="This text is used in URLs, e.g. /tags/a-sample-tag, and the only allowed characters are: lowercase a to z, numbers 0 to 9, dots, hyphens and underscores",w=Object(b.q)(),y=Object(b.f)("div"),x=Object(b.f)("button"),$=Object(b.s)(_),U=Object(b.q)(),q=Object(b.f)("button"),E=Object(b.s)(L),Object(b.c)(s,"for","name"),Object(b.c)(o,"id","name"),Object(b.c)(o,"name","name"),Object(b.c)(o,"type","text"),o.disabled=i=t[4]||t[5],Object(b.c)(o,"class","form-control"),Object(b.c)(o,"placeholder","A sample tag"),Object(b.t)(o,"is-invalid",!t[2]),Object(b.c)(O,"class","text-muted"),Object(b.c)(a,"class","form-group"),Object(b.c)(n,"class","col-lg-12"),Object(b.c)(g,"for","name"),Object(b.c)(m,"id","slug"),Object(b.c)(m,"name","slug"),Object(b.c)(m,"type","text"),m.disabled=f=t[4]||t[5],Object(b.c)(m,"class","form-control"),Object(b.c)(m,"placeholder","a-sample-tag"),Object(b.t)(m,"is-invalid",!t[3]),Object(b.c)(h,"class","text-muted"),Object(b.c)(u,"class","form-group"),Object(b.c)(r,"class","col-lg-12"),Object(b.c)(c,"class","row"),x.disabled=k=t[4]||!t[6]||t[5],Object(b.c)(x,"class","btn btn-primary btn-rounded"),Object(b.c)(x,"type","button"),q.disabled=t[5],Object(b.c)(q,"class","btn btn-default btn-rounded"),Object(b.c)(q,"type","button"),Object(b.c)(y,"class","form-actions btn-list")},m(i,f){Object(b.i)(i,e,f),Object(b.b)(e,c),Object(b.b)(c,n),Object(b.b)(n,a),Object(b.b)(a,s),Object(b.b)(a,l),Object(b.b)(a,o),Object(b.p)(o,t[1].name),Object(b.b)(a,j),Object(b.b)(a,O),Object(b.b)(c,d),Object(b.b)(c,r),Object(b.b)(r,u),Object(b.b)(u,g),Object(b.b)(u,p),Object(b.b)(u,m),Object(b.p)(m,t[1].slug),Object(b.b)(u,v),Object(b.b)(u,h),Object(b.b)(e,w),Object(b.b)(e,y),Object(b.b)(y,x),Object(b.b)(x,$),Object(b.b)(y,U),Object(b.b)(y,q),Object(b.b)(q,E),S||(C=[Object(b.k)(o,"input",t[14]),Object(b.k)(m,"input",t[15]),Object(b.k)(m,"blur",t[7]),Object(b.k)(x,"click",t[8]),Object(b.k)(q,"click",t[9])],S=!0)},p(t,[e]){48&e&&i!==(i=t[4]||t[5])&&(o.disabled=i),2&e&&o.value!==t[1].name&&Object(b.p)(o,t[1].name),4&e&&Object(b.t)(o,"is-invalid",!t[2]),48&e&&f!==(f=t[4]||t[5])&&(m.disabled=f),2&e&&m.value!==t[1].slug&&Object(b.p)(m,t[1].slug),8&e&&Object(b.t)(m,"is-invalid",!t[3]),49&e&&_!==(_=(t[4]?"Loading...":t[5]?"Saving...":t[0].save)+"")&&Object(b.o)($,_),112&e&&k!==(k=t[4]||!t[6]||t[5])&&(x.disabled=k),1&e&&L!==(L=t[0].cancel+"")&&Object(b.o)(E,L),32&e&&(q.disabled=t[5])},i:b.l,o:b.l,d(t){t&&Object(b.e)(e),S=!1,Object(b.m)(C)}}}const l=/^[\.\-_a-z0-9]+$/;function o(t,e,c){let{baseEndpointUrl:b=""}=e,{listUrl:s=""}=e,{id:o}=e,{translations:i={name:":name",slug:":slug",count:":count",actions:":actions",noresults:":no results",save:":save",cancel:":cancel"}}=e;const j=b+"/tags";let O,d,r,u=!!o,g=!0,p=!1,m={},f=!1;function v(){c(4,g=!0),(u?a.a.get(j+"/"+o).then((t=>c(1,m=t.data))):Promise.resolve()).catch((t=>console.log("Error loading: "+t))).finally((()=>c(4,g=!1)))}return Object(n.a)((async()=>{v()})),t.$$set=t=>{"baseEndpointUrl"in t&&c(10,b=t.baseEndpointUrl),"listUrl"in t&&c(11,s=t.listUrl),"id"in t&&c(12,o=t.id),"translations"in t&&c(0,i=t.translations)},t.$$.update=()=>{2&t.$$.dirty&&c(2,O=!!m.name),8194&t.$$.dirty&&c(3,d=!!m.slug&&l.test(m.slug)&&!f),12&t.$$.dirty&&c(6,r=O&&d)},[i,m,O,d,g,p,r,function(){m.slug&&(c(13,f=!0),a.a.get(j+"?slug="+m.slug).then((t=>{c(13,f=t.data._embedded&&t.data._embedded.tags.length>0),f&&u&&c(13,f=t.data._embedded.tags[0].id!=o)})))},function(){c(5,p=!0),(console.log("validSlug is "+d),u?a.a.put(j+"/"+o,m).then((()=>console.log("Successfully updated tag: "+o+" with values: "+m))):a.a.post(j,m).then((()=>console.log("Successfully created tag: "+m)))).then((()=>window.location=s)).catch((t=>{console.log("Error saving: "+t),c(5,p=!1)}))},function(){window.location=s},b,s,o,f,function(){m.name=this.value,c(1,m)},function(){m.slug=this.value,c(1,m)}]}class i extends b.a{constructor(t){super(),Object(b.h)(this,t,o,s,b.n,{baseEndpointUrl:10,listUrl:11,id:12,translations:0})}}new i({target:document.getElementById("tag-editor"),props:properties})}},[[7,1,0]]]);